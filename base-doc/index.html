<!DOCTYPE html>
<html><head title="Motoko docs"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><div class="index-container"><h1 class="index-header">Index of modules</h1><ul class="index-listing"><li class="index-item"><a class="index-item-link" href="Array.html">Array</a><div class="index-item-comment"><p>Provides extended utility functions on Arrays. Note the difference between
mutable and non-mutable arrays below.</p>
<p>WARNING: If you are looking for a list that can grow and shrink in size,
it is recommended you use either the Buffer class or the List class for
those purposes. Arrays must be created with a fixed size.</p>
<p>Import from the base library to use this module.</p>
<pre><code>motoko name=import
import Array &quot;mo:base/Array&quot;;</code></pre></div></li><li class="index-item"><a class="index-item-link" href="AssocList.html">AssocList</a><div class="index-item-comment"><p>Lists of key-value entries (&quot;associations&quot;).</p>
<p>Implements the same operations as library <code>Trie</code>, but uses a
linked-list of entries and no hashing.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Blob.html">Blob</a><div class="index-item-comment"><p>Binary blobs</p>
</div></li><li class="index-item"><a class="index-item-link" href="Bool.html">Bool</a><div class="index-item-comment"><p>Boolean type and operations.</p>
<p>While boolean operators <code>_ and _</code> and <code>_ or _</code> are short-circuiting,
avoiding computation of the right argument when possible, the functions
<code>logand(_, _)</code> and <code>logor(_, _)</code> are <em>strict</em> and will always evaluate <em>both</em>
of their arguments.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Buffer.html">Buffer</a><div class="index-item-comment"><p>Class <code>Buffer&lt;X&gt;</code> provides a mutable list of elements of type <code>X</code>.
The class wraps and resizes an underyling array that holds the elements,
and thus is comparable to ArrayLists or Vectors in other languages.</p>
<p>When required, the current state of a buffer object can be converted to a fixed-size array of its elements.
This is recommended for example when storing a buffer to a stable variable.</p>
<p>Throughout this documentation, two terms come up that can be confused: <code>size</code>
and <code>capacity</code>. <code>size</code> is the length of the list that the buffer represents.
<code>capacity</code> is the length of the underyling array that backs this list.
<code>capacity</code> &gt;= <code>size</code> is an invariant for this class.</p>
<p>Like arrays, elements in the buffer are ordered by indices from 0 to <code>size</code>-1.</p>
<p>WARNING: Certain operations are amortized O(1) time, such as <code>add</code>, but run
in worst case O(n) time. These worst case runtimes may exceed the cycles limit
per message if the size of the buffer is large enough. Grow these structures
with discretion. All amortized operations below also list the worst case runtime.</p>
<p>Constructor:
The argument <code>initCapacity</code> determines the initial capacity of the array.
The underlying array grows by a factor of 1.5 when its current capacity is
exceeded. Further, when the size of the buffer shrinks to be less than 1/4th
of the capacity, the underyling array is shrunk by a factor of 2.</p>
<p>Example:</p>
<pre><code>motoko name=initialize
import Buffer &quot;mo:base/Buffer&quot;;

let buffer = Buffer.Buffer&lt;Nat&gt;(3); // Creates a new Buffer</code></pre>

<p>Runtime: O(initCapacity)</p>
<p>Space: O(initCapacity)</p>
</div></li><li class="index-item"><a class="index-item-link" href="CertifiedData.html">CertifiedData</a><div class="index-item-comment"><p>Certified data.</p>
<p>The Internet Computer allows canister smart contracts to store a small amount of data during
update method processing so that during query call processing, the canister can obtain
a certificate about that data.</p>
<p>This module provides a <em>low-level</em> interface to this API, aimed at advanced
users and library implementors. See the Internet Computer Functional
Specification and corresponding documentation for how to use this to make query
calls to your canister tamperproof.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Char.html">Char</a><div class="index-item-comment"><p>Characters</p>
</div></li><li class="index-item"><a class="index-item-link" href="Debug.html">Debug</a><div class="index-item-comment"><p>Debugging aids</p>
</div></li><li class="index-item"><a class="index-item-link" href="Deque.html">Deque</a><div class="index-item-comment"><p>Functions for persistent, double-ended queues.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Error.html">Error</a><div class="index-item-comment"><p>Error values and inspection.</p>
<p>The <code>Error</code> type is the argument to <code>throw</code>, parameter of <code>catch</code>.
The <code>Error</code> type is opaque.</p>
</div></li><li class="index-item"><a class="index-item-link" href="ExperimentalCycles.html">ExperimentalCycles</a><div class="index-item-comment"><p>Managing cycles</p>
<p>Usage of the Internet Computer is measured, and paid for, in <em>cycles</em>.
This library provides imperative operations for observing cycles, transferring cycles and
observing refunds of cycles.</p>
<p><strong>WARNING:</strong> This low-level API is <strong>experimental</strong> and likely to change or even disappear.
Dedicated syntactic support for manipulating cycles may be added to the language in future, obsoleting this library.</p>
<p><strong>NOTE:</strong> Since cycles measure computational resources, the value of
<code>balance()</code> can change from one call to the next.</p>
</div></li><li class="index-item"><a class="index-item-link" href="ExperimentalInternetComputer.html">ExperimentalInternetComputer</a><div class="index-item-comment"><p>Low-level interface to the Internet Computer.</p>
<p><strong>WARNING:</strong> This low-level API is <strong>experimental</strong> and likely to change or even disappear.</p>
</div></li><li class="index-item"><a class="index-item-link" href="ExperimentalStableMemory.html">ExperimentalStableMemory</a><div class="index-item-comment"><p>Byte-level access to (virtual) <em>stable memory</em>.</p>
<p><strong>WARNING</strong>: As its name suggests, this library is <strong>experimental</strong>, subject to change
and may be replaced by safer alternatives in later versions of Motoko.
Use at your own risk and discretion.</p>
<p>This is a lightweight abstraction over IC <em>stable memory</em> and supports persisting
raw binary data across Motoko upgrades.
Use of this module is fully compatible with Motoko's use of
<em>stable variables</em>, whose persistence mechanism also uses (real) IC stable memory internally, but does not interfere with this API.</p>
<p>Memory is allocated, using <code>grow(pages)</code>, sequentially and on demand, in units of 64KiB pages, starting with 0 allocated pages.
New pages are zero initialized.
Growth is capped by a soft limit on page count controlled by compile-time flag
<code>--max-stable-pages &lt;n&gt;</code> (the default is 65536, or 4GiB).</p>
<p>Each <code>load</code> operation loads from byte address <code>offset</code> in little-endian
format using the natural bit-width of the type in question.
The operation traps if attempting to read beyond the current stable memory size.</p>
<p>Each <code>store</code> operation stores to byte address <code>offset</code> in little-endian format using the natural bit-width of the type in question.
The operation traps if attempting to write beyond the current stable memory size.</p>
<p>Text values can be handled by using <code>Text.decodeUtf8</code> and <code>Text.encodeUtf8</code>, in conjunction with <code>loadBlob</code> and <code>storeBlob</code>.</p>
<p>The current page allocation and page contents is preserved across upgrades.</p>
<p>NB: The IC's actual stable memory size (<code>ic0.stable_size</code>) may exceed the
page size reported by Motoko function <code>size()</code>.
This (and the cap on growth) are to accommodate Motoko's stable variables.
Applications that plan to use Motoko stable variables sparingly or not at all can
increase <code>--max-stable-pages</code> as desired, approaching the IC maximum (currently 8GiB).
All applications should reserve at least one page for stable variable data, even when no stable variables are used.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Float.html">Float</a><div class="index-item-comment"><p>64-bit Floating-point numbers</p>
</div></li><li class="index-item"><a class="index-item-link" href="Func.html">Func</a><div class="index-item-comment"><p>Functions on functions</p>
<p>(Most commonly used when programming in functional style using higher-order
functions.)</p>
</div></li><li class="index-item"><a class="index-item-link" href="Hash.html">Hash</a><div class="index-item-comment"><p>Hash values</p>
</div></li><li class="index-item"><a class="index-item-link" href="HashMap.html">HashMap</a><div class="index-item-comment"><p>Mutable hash map (aka Hashtable)</p>
<p>This module defines an imperative hash map (hash table), with a general key and value type.</p>
<p>It has a minimal object-oriented interface: <code>get</code>, <code>set</code>, <code>delete</code>, <code>count</code> and <code>entries</code>.</p>
<p>The class is parameterized by the key's equality and hash functions,
and an initial capacity.  However, as with the <code>Buffer</code> class, no array allocation
happens until the first <code>set</code>.</p>
<p>Internally, table growth policy is very simple, for now:
 Double the current capacity when the expected bucket list size grows beyond a certain constant.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Heap.html">Heap</a><div class="index-item-comment"><p>Priority Queue</p>
<p>This module provides purely-functional priority queue based on leftist heap</p>
</div></li><li class="index-item"><a class="index-item-link" href="Int.html">Int</a><div class="index-item-comment"><p>Integer numbers</p>
<p>Most operations on integers (e.g. addition) are available as built-in operators (e.g. <code>1 + 1</code>).
This module provides equivalent functions and <code>Text</code> conversion.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Int16.html">Int16</a><div class="index-item-comment"><p>16-bit signed integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Int32.html">Int32</a><div class="index-item-comment"><p>32-bit signed integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Int64.html">Int64</a><div class="index-item-comment"><p>64-bit signed integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Int8.html">Int8</a><div class="index-item-comment"><p>8-bit signed integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Iter.html">Iter</a><div class="index-item-comment"><p>Iterators</p>
</div></li><li class="index-item"><a class="index-item-link" href="IterType.html">IterType</a><div class="index-item-comment"><p>The Iterator type</p>
</div></li><li class="index-item"><a class="index-item-link" href="List.html">List</a><div class="index-item-comment"><p>Purely-functional, singly-linked lists.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Nat.html">Nat</a><div class="index-item-comment"><p>Natural numbers</p>
<p>Most operations on natural numbers (e.g. addition) are available as built-in operators (e.g. <code>1 + 1</code>).
This module provides equivalent functions and <code>Text</code> conversion.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Nat16.html">Nat16</a><div class="index-item-comment"><p>16-bit unsigned integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Nat32.html">Nat32</a><div class="index-item-comment"><p>32-bit unsigned integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Nat64.html">Nat64</a><div class="index-item-comment"><p>64-bit unsigned integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Nat8.html">Nat8</a><div class="index-item-comment"><p>8-bit unsigned integers with checked arithmetic</p>
<p>Most operations are available as built-in operators (e.g. <code>1 + 1</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="None.html">None</a><div class="index-item-comment"><p>The absent value</p>
<p>The <code>None</code> type represents a type with <em>no</em> value.</p>
<p>It is often used to type code that fails to return control (e.g. an infinite loop)
or to designate impossible values (e.g. the type <code>?None</code> only contains <code>null</code>).</p>
</div></li><li class="index-item"><a class="index-item-link" href="Option.html">Option</a><div class="index-item-comment"><p>Typesafe nulls</p>
<p>Optional values can be seen as a typesafe <code>null</code>. A value of type <code>?Int</code> can
be constructed with either <code>null</code> or <code>?42</code>. The simplest way to get at the
contents of an optional is to use pattern matching:</p>
<pre class="motoko"><code class="motoko">let optionalInt1 : ?Int = ?42;
let optionalInt2 : ?Int = null;

let int1orZero : Int = switch optionalInt1 {
  case null 0;
  case (?int) int;
};
assert int1orZero == 42;

let int2orZero : Int = switch optionalInt2 {
  case null 0;
  case (?int) int;
};
assert int2orZero == 0;</code></pre>

<p>The functions in this module capture some common operations when working
with optionals that can be more succinct than using pattern matching.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Order.html">Order</a><div class="index-item-comment"><p>Order</p>
</div></li><li class="index-item"><a class="index-item-link" href="Prelude.html">Prelude</a><div class="index-item-comment"><p>General utilities</p>
<p>This prelude file proposes standard library features that <em>may</em>
belong in the <em>language</em> (compiler-internal) prelude sometime, after
some further experience and discussion.  Until then, they live here.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Principal.html">Principal</a><div class="index-item-comment"><p>IC principals (user and canister smart contract IDs)</p>
</div></li><li class="index-item"><a class="index-item-link" href="RBTree.html">RBTree</a><div class="index-item-comment"><p>Red-Black Trees</p>
</div></li><li class="index-item"><a class="index-item-link" href="Random.html">Random</a><div class="index-item-comment"><p>A module for obtaining randomness on the Internet Computer (IC).</p>
<p>This module provides the fundamentals for user abstractions to build on.</p>
<p>Dealing with randomness on a deterministic computing platform, such
as the IC, is intricate. Some basic rules need to be followed by the
user of this module to obtain (and maintain) the benefits of crypto-
graphic randomness:</p>
<ul><li>cryptographic entropy (randomness source) is only obtainable
 asyncronously in discrete chunks of 256 bits (32-byte sized <code>Blob</code>s)</li><li>all bets must be closed <em>before</em> entropy is being asked for in
 order to decide them</li><li>this implies that the same entropy (i.e. <code>Blob</code>) - or surplus entropy
 not utilised yet - cannot be used for a new round of bets without
 losing the cryptographic guarantees.</li></ul>

<p>Concretely, the below class <code>Finite</code>, as well as the
<code>*From</code> methods risk the carrying-over of state from previous rounds.
These are provided for performance (and convenience) reasons, and need
special care when used. Similar caveats apply for user-defined (pseudo)
random number generators.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Result.html">Result</a><div class="index-item-comment"><p>Error handling with the Result type.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Stack.html">Stack</a><div class="index-item-comment"><p>Stack collection (LIFO discipline).</p>
<p>Minimal LIFO (last in first out) implementation, as a class.
See library <code>Deque</code> for mixed LIFO/FIFO behavior.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Text.html">Text</a><div class="index-item-comment"><p>Text values</p>
<p>This type represents human-readable text as sequences of characters of type <code>Char</code>.
If <code>t</code> is a value of type <code>Text</code>, then:</p>
<ul><li><code>t.chars()</code> returns an <em>iterator</em> of type <code>Iter&lt;Char&gt;</code> enumerating its characters from first to last.</li><li><code>t.size()</code> returns the <em>size</em> (or length) of <code>t</code> (and <code>t.chars()</code>) as a <code>Nat</code>.</li><li><code>t1 # t2</code> concatenates texts <code>t1</code> and <code>t2</code>.</li></ul>

<p>Represented as ropes of UTF-8 character sequences with O(1) concatenation.</p>
<p>This module defines additional operations on <code>Text</code> values.</p>
</div></li><li class="index-item"><a class="index-item-link" href="Time.html">Time</a><div class="index-item-comment"><p>System time</p>
</div></li><li class="index-item"><a class="index-item-link" href="Trie.html">Trie</a><div class="index-item-comment"><p>Functional key-value hash maps.</p>
<p>Functional maps (and sets) whose representation is &quot;canonical&quot;, and
independent of operation history (unlike other popular search trees).</p>
<p>The representation we use here comes from Section 6 of <a href="https://dl.acm.org/citation.cfm?id=75305">&quot;Incremental computation via function caching&quot;, Pugh &amp; Teitelbaum</a>.</p>
<h2 id="User-39-s-overview">User's overview</h2>

<p>This module provides an applicative (functional) hash map.
Notably, each <code>put</code> produces a <strong>new trie <em>and value being replaced, if any</em></strong>.</p>
<p>Those looking for a more familiar (imperative,
object-oriented) hash map should consider <code>TrieMap</code> or <code>HashMap</code> instead.</p>
<p>The basic <code>Trie</code> operations consist of:</p>
<ul><li><code>put</code> - put a key-value into the trie, producing a new version.</li><li><code>get</code> - get a key's value from the trie, or <code>null</code> if none.</li><li><code>iter</code> - visit every key-value in the trie.</li></ul>

<p>The <code>put</code> and <code>get</code> operations work over <code>Key</code> records,
which group the hash of the key with its non-hash key value.</p>
<pre class="motoko"><code class="motoko">import Trie &quot;mo:base/Trie&quot;;
import Text &quot;mo:base/Text&quot;;

type Trie&lt;K, V&gt; = Trie.Trie&lt;K, V&gt;;
type Key&lt;K&gt; = Trie.Key&lt;K&gt;;

func key(t: Text) : Key&lt;Text&gt; { { key = t; hash = Text.hash t } };

let t0 : Trie&lt;Text, Nat&gt; = Trie.empty();
let t1 : Trie&lt;Text, Nat&gt; = Trie.put(t0, key &quot;hello&quot;, Text.equal, 42).0;
let t2 : Trie&lt;Text, Nat&gt; = Trie.put(t1, key &quot;world&quot;, Text.equal, 24).0;
let n : ?Nat = Trie.put(t1, key &quot;hello&quot;, Text.equal, 0).1;
assert (n == ?42);</code></pre></div></li><li class="index-item"><a class="index-item-link" href="TrieMap.html">TrieMap</a><div class="index-item-comment"><p>Key-value hash maps.</p>
<p>An imperative hash map, with a general key and value type.</p>
<ul><li><p>The <code>class</code> <code>TrieMap</code> exposes the same interface as <code>HashMap</code>.</p>
</li><li><p>Unlike HashMap, the internal representation uses a functional representation (via <code>Trie</code> module).</p>
</li><li><p>This class does not permit a direct <code>clone</code> operation (neither does <code>HashMap</code>), but it does permit creating iterators via <code>iter()</code>.  Each iterator costs <code>O(1)</code> to create, but represents a fixed view of the mapping that does not interfere with mutations (it will <em>not</em> reflect subsequent insertions or mutations, if any).</p>
</li></ul></div></li><li class="index-item"><a class="index-item-link" href="TrieSet.html">TrieSet</a><div class="index-item-comment"><p>Functional set</p>
<p>Sets are partial maps from element type to unit type,
i.e., the partial map represents the set with its domain.</p>
</div></li></ul></div></html>